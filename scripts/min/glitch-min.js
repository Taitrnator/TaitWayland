var canvas=document.getElementById("portrait"),context=canvas.getContext("2d"),img=new Image,w,h,offset,glitchInterval;img.src="./images/portrait.png",img.onload=function(){init(),window.onresize=init};var init=function(){clearInterval(glitchInterval),canvas.width=w=200,offset=0,canvas.height=h=543,glitchInterval=setInterval(function(){clear(),context.drawImage(img,0,0,img.width,img.height,offset,0,w-2*offset,h),setTimeout(glitchImg,randInt(250,1e3),500)},500)},clear=function(){context.rect(0,0,w,h),context.fill()},glitchImg=function(){for(var t=0;t<randInt(1,13);t++){var n=Math.random()*w,a=Math.random()*h,e=w-n,i=randInt(5,h/3);context.drawImage(canvas,0,a,e,i,n,a,e,i),context.drawImage(canvas,e,a,n,i,0,a,n,i)}},randInt=function(t,n){return~~(Math.random()*(n-t)+t)};